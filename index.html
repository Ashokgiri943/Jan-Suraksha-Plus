<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡§ú‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§≤‡§∏ - ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∏‡§Æ‡§æ‡§ú</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon.png">
    <meta name="theme-color" content="#d32f2f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§ê‡§™ - ‡§Ö‡§∂‡•ã‡§ï ‡§ó‡§ø‡§∞‡•Ä ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§µ‡§ø‡§ï‡§∏‡§ø‡§§">

    <style>
        :root { --primary-red: #d32f2f; --success-green: #2e7d32; --deep-blue: #1a5276; }
        * { box-sizing: border-box; transition: 0.3s ease; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f0f2f5; margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        .app-card { background: #fff; border-radius: 25px; padding: 25px; width: 100%; max-width: 400px; box-shadow: 0 15px 35px rgba(0,0,0,0.15); border-top: 8px solid var(--primary-red); position: relative; margin-bottom: 20px; }
        .header { color: var(--primary-red); font-size: 28px; font-weight: bold; margin-bottom: 25px; text-align: center; }
        .top-icons { position: absolute; top: 18px; right: 20px; display: flex; gap: 15px; }
        .icon-btn { background: #f9f9f9; border: 1px solid #eee; font-size: 18px; cursor: pointer; color: var(--primary-red); width: 42px; height: 42px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        input { width: 100%; padding: 15px; margin-bottom: 12px; border: 2px solid #f0f0f0; border-radius: 12px; font-size: 16px; outline: none; background: #fafafa; }
        input:disabled { background: #e8f5e9; color: var(--success-green); font-weight: bold; }
        .btn-row { display: flex; gap: 10px; margin-bottom: 25px; }
        .btn { flex: 1; padding: 15px; border: none; border-radius: 12px; font-weight: bold; color: white; cursor: pointer; }
        .save { background: var(--success-green); } .edit { background: #616161; }
        .sos-btn { background: radial-gradient(circle, #ff5252, #b71c1c); width: 140px; height: 140px; border-radius: 50%; border: 8px solid #fff; color: white; font-size: 32px; font-weight: bold; display: block; margin: 0 auto 25px; cursor: pointer; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.7); } 70% { box-shadow: 0 0 0 35px rgba(211, 47, 47, 0); } 100% { box-shadow: 0 0 0 0 rgba(211, 47, 47, 0); } }
        .siren-btn { width: 100%; padding: 18px; border-radius: 12px; background: #6a1b9a; color: white; font-weight: bold; border: none; margin-bottom: 25px; font-size: 18px; cursor: pointer; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .q-btn { aspect-ratio: 1/1; border: none; border-radius: 18px; color: white; font-weight: bold; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 13px; cursor: pointer; }
        .p-btn { background: #1565c0; } .f-btn { background: #e65100; } .a-btn { background: var(--success-green); }
        .info-section { background: #fff; width: 100%; max-width: 400px; border-radius: 20px; padding: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .disclaimer-box { background: #fff5f5; border: 1px solid #eccaca; padding: 15px; border-radius: 10px; color: #c0392b; font-size: 12px; text-align: justify; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 10000; padding: 20px; align-items: center; justify-content: center; }
        .modal-content { background: white; width: 100%; max-width: 400px; border-radius: 25px; padding: 30px; }
        .footer { font-size: 14px; color: #777; padding: 20px; text-align: center; }
    </style>
</head>
<body>

<div id="info-modal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--primary-red); text-align: center;">‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•Ä ‡§∂‡§∞‡•ç‡§§‡•á‡§Ç</h2>
        <p>1. ‡§Ø‡§π ‡§ê‡§™ ‡§ï‡•á‡§µ‡§≤ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§π‡•á‡§§‡•Å ‡§π‡•à‡•§ ‡§ó‡§≤‡§§ ‡§ï‡•â‡§≤ ‡§ï‡•Ä ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡•Ä ‡§Ø‡•Ç‡§ú‡§∞ ‡§ï‡•Ä ‡§π‡•ã‡§ó‡•Ä‡•§</p>
        <p>2. ‡§ï‡•â‡§≤ ‡§¨‡§ü‡§® ‡§ï‡•á‡§µ‡§≤ ‡§´‡•ã‡§® ‡§ï‡§æ ‡§°‡§æ‡§Ø‡§≤-‡§™‡•à‡§° ‡§ñ‡•ã‡§≤‡•á‡§ó‡§æ‡•§</p>
        <p>3. ‡§Ü‡§™‡§ï‡§æ ‡§°‡•á‡§ü‡§æ ‡§´‡•ã‡§® ‡§Æ‡•á‡§Ç ‡§π‡•Ä ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§π‡§§‡§æ ‡§π‡•à‡•§</p>
        <button onclick="closeModal('info-modal')" style="width:100%; background:var(--primary-red); color:white; border:none; padding:15px; border-radius:12px; font-weight:bold; cursor:pointer;">‡§Æ‡•à‡§Ç ‡§∏‡§π‡§Æ‡§§ ‡§π‡•Ç‡§Å</button>
    </div>
</div>

<div class="app-card">
    <div class="top-icons">
        <button class="icon-btn" onclick="shareApp()">üîó</button>
        <button class="icon-btn" onclick="openModal('info-modal')">‚ìò</button>
    </div>
    <div class="header">‡§ú‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§≤‡§∏</div>
    
    <input type="tel" id="n1" placeholder="‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ 1">
    <input type="tel" id="n2" placeholder="‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ 2">
    <input type="url" id="wg" placeholder="‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§ó‡•ç‡§∞‡•Å‡§™ ‡§≤‡§ø‡§Ç‡§ï">

    <div class="btn-row">
        <button class="btn save" onclick="lock()">üíæ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
        <button class="btn edit" onclick="unlock()">‚úèÔ∏è ‡§è‡§°‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <button class="sos-btn" onclick="sos()">SOS</button>
    <button id="s" class="siren-btn" onclick="tS()">üö® ‡§∏‡§æ‡§Ø‡§∞‡§® ‡§¨‡§ú‡§æ‡§è‡§Ç</button>

    <div class="grid">
        <button class="q-btn p-btn" onclick="callService('112')">üëÆ<br>‡§™‡•Å‡§≤‡§ø‡§∏</button>
        <button class="q-btn f-btn" onclick="callService('101')">üî•<br>‡§´‡§æ‡§Ø‡§∞</button>
        <button class="q-btn a-btn" onclick="callService('108')">üöë<br>‡§è‡§Æ‡•ç‡§¨‡•Å‡§≤‡•á‡§Ç‡§∏</button>
    </div>
</div>

<div class="info-section">
    <div class="disclaimer-box">
        <strong>‡§Ö‡§∏‡•ç‡§µ‡•Ä‡§ï‡§∞‡§£:</strong> ‡§Ø‡§π ‡§è‡§ï ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§∏‡§æ‡§Æ‡§æ‡§ú‡§ø‡§ï ‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§ï‡•ç‡§ü ‡§π‡•à‡•§ ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§ï‡•á ‡§¶‡•Å‡§∞‡•Å‡§™‡§Ø‡•ã‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡§ø‡§ï‡§∏‡§ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§
    </div>
</div>

<div class="footer">‡§µ‡§ø‡§ï‡§∏‡§ø‡§§‡§ï‡§∞‡•ç‡§§‡§æ: ‡§Ö‡§∂‡•ã‡§ï ‡§ó‡§ø‡§∞‡•Ä (‡§ñ‡§ü‡•Ä‡§Æ‡§æ) <br>¬© 2026 ‡§ú‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§≤‡§∏</div>

<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./sw.js').catch(err => console.log('SW Error:', err));
        });
    }

    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    
    function lock() {
        localStorage.setItem('n1', document.getElementById('n1').value);
        localStorage.setItem('n2', document.getElementById('n2').value);
        localStorage.setItem('wg', document.getElementById('wg').value);
        toggleFields(true);
        alert("‡§°‡•á‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à!");
    }
    
    function unlock() { toggleFields(false); }
    
    function toggleFields(status) {
        ['n1', 'n2', 'wg'].forEach(id => document.getElementById(id).disabled = status);
    }
    
    window.onload = () => {
        ['n1', 'n2', 'wg'].forEach(id => {
            let val = localStorage.getItem(id);
            if(val) { document.getElementById(id).value = val; document.getElementById(id).disabled = true; }
        });
    };
    
    function sos() {
        let n1 = localStorage.getItem('n1');
        if(!n1) return alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§®‡§Ç‡§¨‡§∞ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç!");
        navigator.geolocation.getCurrentPosition(p => {
            let loc = `https://www.google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`;
            let msg = encodeURIComponent(`üö® SOS! ‡§Æ‡•á‡§∞‡•Ä ‡§≤‡•ã‡§ï‡•á‡§∂‡§®: ${loc}`);
            window.open(`https://wa.me/${n1}?text=${msg}`, '_blank');
        }, () => alert("GPS ‡§ë‡§® ‡§ï‡§∞‡•á‡§Ç!"), {enableHighAccuracy:true});
    }

    function callService(num) {
        window.location.href = `tel:${num}`;
    }

    let audioCtx = null, oscillator = null, gainNode = null, active = false, sirenInterval = null;
    function tS() {
        if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        if(!active) {
            oscillator = audioCtx.createOscillator();
            gainNode = audioCtx.createGain();
            oscillator.type = 'triangle';
            const playSiren = () => {
                const now = audioCtx.currentTime;
                oscillator.frequency.setValueAtTime(440, now);
                oscillator.frequency.exponentialRampToValueAtTime(880, now + 0.5);
                oscillator.frequency.exponentialRampToValueAtTime(440, now + 1.0);
            };
            playSiren();
            sirenInterval = setInterval(playSiren, 1000);
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.start();
            active = true;
            document.getElementById('s').innerText = "üõë ‡§∏‡§æ‡§Ø‡§∞‡§® ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç";
        } else {
            if(oscillator) { oscillator.stop(); clearInterval(sirenInterval); }
            active = false;
            document.getElementById('s').innerText = "üö® ‡§∏‡§æ‡§Ø‡§∞‡§® ‡§¨‡§ú‡§æ‡§è‡§Ç";
        }
    }

    function shareApp() {
        if (navigator.share) navigator.share({ title: '‡§ú‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§≤‡§∏', url: window.location.href });
    }
</script>
</body>
</html>
