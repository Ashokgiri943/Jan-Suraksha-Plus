
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jan Suraksha - Hyper Fast</title>
    <style>
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial; background: #f0f2f5; margin: 0; padding: 10px; display: flex; justify-content: center; }
        .app-card { background: #fff; border-radius: 20px; padding: 15px; width: 100%; max-width: 380px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border-top: 6px solid #d32f2f; }
        .header { color: #d32f2f; font-size: 22px; font-weight: bold; margin-bottom: 15px; text-align: center; }
        input { width: 100%; padding: 10px; margin-bottom: 8px; border: 2px solid #ddd; border-radius: 8px; font-size: 14px; outline: none; }
        input:disabled { background: #f9f9f9; color: #2e7d32; font-weight: bold; }
        .btn-row { display: flex; gap: 8px; margin-bottom: 15px; }
        .btn { flex: 1; padding: 10px; border: none; border-radius: 8px; font-weight: bold; color: white; cursor: pointer; font-size: 13px; }
        .save { background: #2e7d32; } .edit { background: #757575; }
        .sos-btn { background: radial-gradient(circle, #ff5252, #b71c1c); width: 110px; height: 110px; border-radius: 50%; border: 5px solid #fff; color: white; font-size: 24px; font-weight: bold; display: block; margin: 0 auto 15px; cursor: pointer; box-shadow: 0 5px 15px rgba(239, 82, 82, 0.4); }
        .siren-btn { width: 100%; padding: 12px; border-radius: 8px; background: #6a1b9a; color: white; font-weight: bold; border: none; margin-bottom: 15px; font-size: 16px; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .q-btn { aspect-ratio: 1/1; border: none; border-radius: 10px; color: white; font-weight: bold; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 11px; }
        .p-btn { background: #1565c0; } .f-btn { background: #e65100; } .a-btn { background: #2e7d32; }
        .footer { margin-top: 15px; font-size: 12px; color: #333; font-weight: bold; text-align: center; border-top: 1px solid #eee; padding-top: 8px; }
    </style>
</head>
<body>
<div class="app-card">
    <div class="header">‡§ú‡§® ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ</div>
    <input type="tel" id="n1" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ 1">
    <input type="tel" id="n2" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ 2">
    <input type="url" id="wa" placeholder="‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§ó‡•ç‡§∞‡•Å‡§™ ‡§≤‡§ø‡§Ç‡§ï">
    <div class="btn-row">
        <button class="btn save" onclick="lock()">üíæ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
        <button class="btn edit" onclick="unlock()">‚úèÔ∏è ‡§è‡§°‡§ø‡§ü</button>
    </div>
    <button class="sos-btn" onclick="sos()">SOS</button>
    <button id="s" class="siren-btn" onclick="tS()">üö® ‡§∏‡§æ‡§Ø‡§∞‡§® ‡§¨‡§ú‡§æ‡§è‡§Ç</button>
    <div class="grid">
        <button class="q-btn p-btn" onclick="if(confirm('112 ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç?')) window.open('tel:112')">üëÆ<br>112</button>
        <button class="q-btn f-btn" onclick="if(confirm('101 ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç?')) window.open('tel:101')">üî•<br>101</button>
        <button class="q-btn a-btn" onclick="if(confirm('108 ‡§ï‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç?')) window.open('tel:108')">üöë<br>108</button>
    </div>
    <div class="footer">Developed by: Ashok Giri</div>
</div>

<script>
    const ids = ['n1', 'n2', 'wa'];
    function lock() {
        ids.forEach(id => {
            let val = document.getElementById(id).value;
            if(val) { localStorage.setItem(id, val); document.getElementById(id).disabled = true; }
        });
        alert("‡§°‡•á‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•ã ‡§ó‡§Ø‡§æ!");
    }
    function unlock() { ids.forEach(id => document.getElementById(id).disabled = false); }
    window.onload = () => {
        ids.forEach(id => {
            let v = localStorage.getItem(id);
            if(v) { document.getElementById(id).value = v; document.getElementById(id).disabled = true; }
        });
    };

    let ctx = new (window.AudioContext || window.webkitAudioContext)();
    let o = null, active = false;
    function tS() {
        if(!active) {
            o = ctx.createOscillator(); let g = ctx.createGain(); o.type = 'triangle';
            o.frequency.setValueAtTime(440, ctx.currentTime);
            o.frequency.exponentialRampToValueAtTime(880, ctx.currentTime + 0.5);
            o.connect(g); g.connect(ctx.destination); o.start(); active = true;
            document.getElementById('s').innerText = "üõë ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç";
        } else { o.stop(); active = false; document.getElementById('s').innerText = "üö® ‡§∏‡§æ‡§Ø‡§∞‡§® ‡§¨‡§ú‡§æ‡§è‡§Ç"; }
    }

    function sos() {
        let n1 = localStorage.getItem('n1');
        let n2 = localStorage.getItem('n2');
        let wa = localStorage.getItem('wa');
        let msg = "‡§Æ‡•Å‡§ù‡•á ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§ ‡§π‡•à, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡•á‡§∞‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•á‡§Ç‡•§";

        if(!n1) return alert("‡§®‡§Ç‡§¨‡§∞ ‡§≠‡§∞‡•á‡§Ç!");

        navigator.geolocation.getCurrentPosition(p => {
            let loc = `http://maps.google.com/?q=${p.coords.latitude},${p.coords.longitude}`;
            let fullMsg = `${msg} ‡§≤‡•ã‡§ï‡•á‡§∂‡§®: ${loc}`;

            // 1. ‡§∏‡§¨‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§è‡§™ ‡§ñ‡•ã‡§≤‡•á‡§Ç (‡§á‡§∏‡§Æ‡•á‡§Ç ‡§∏‡•á‡§Ç‡§° ‡§¶‡§¨‡§æ‡§®‡§æ ‡§π‡•ã‡§ó‡§æ)
            if(wa) {
                let waUrl = wa.includes('?') ? `${wa}&text=${encodeURIComponent(fullMsg)}` : `${wa}?text=${encodeURIComponent(fullMsg)}`;
                window.open(waUrl, '_blank');
            }

            // 2. ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§¨‡§æ‡§¶ SMS ‡§≠‡•á‡§ú‡•á‡§Ç
            setTimeout(() => {
                window.location.href = `sms:${n1},${n2 || ''}?body=${encodeURIComponent(fullMsg)}`;
            }, 1000);

        }, () => alert("‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤ ‡§∏‡§ï‡•Ä!"), {enableHighAccuracy:true});
    }
</script>
</body>
</html>
